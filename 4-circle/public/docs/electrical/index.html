<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Electrical Design - 4Circle</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://olincollege.github.io/pie-2022-03/4-circle/public/favicon.png">

  
  
  <link rel="stylesheet" href="/pie-2022-03/4-circle/public/css/style.min.6719d72e323121369d5caeb4264b95d8a63cf1deaab029da67602fe5a046e0a4.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/pie-2022-03/4-circle/public/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/pie-2022-03/4-circle/public/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public"><img alt="Logo" src="/pie-2022-03/4-circle/public/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/pie-2022-03/4-circle/public/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/pie-2022-03/4-circle/public/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/software/">Software Design</a>
    </li>
    
    <li class="">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/mechanical/">Mechanical Design</a>
    </li>
    
    <li class="">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/firmware/">Firmware Design</a>
    </li>
    
    <li class="">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/bom/">BOM and Cost Analysis</a>
    </li>
    
    <li class="">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/highlevel/">High Level Overview</a>
    </li>
    
    <li class="">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/gallery/">Gallery</a>
    </li>
    
    <li class="active ">
      <a href="https://olincollege.github.io/pie-2022-03/4-circle/public/docs/electrical/">Electrical Design</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Electrical Design</h1>
<div class="content anchor-link-enabled">
  <h2 id="breakdown">Breakdown</h2>
<p>Our electrical system consisted of:</p>
<ul>
<li>A4988 Stepper motor driver</li>
<li>Stepper motor</li>
<li>360 degree rotating servo</li>
<li>12V AC/DC converter</li>
<li>Raspberry Pi</li>
<li>Arduino Uno</li>
<li>50 micro Farad Capacitor</li>
</ul>
<h2 id="multiple-processing-units">Multiple Processing Units</h2>
<p>We chose to work with both an arduino and a raspberry pi to allow us to have two different opperation systems. Since our main algorithm was written on Go we figured that it would be best to run it on an a raspberry pi. To prevent slowing down our raspberry pi by making it process data/commands for both our stepper motor and servo we chose decided it would be best to have an arduino handle these commands.</p>
<h2 id="powering-the-systems">Powering the systems</h2>
<p>For our processing units the main power we used came from the raspberry pi AC/DC voltage convertor. This powered the raspberry pi at 5 volts which then powered the arduino with 5 volts through the usb connection in between the two. Once the arduino was powered it was able to power both the servo and the stepper motor driver. Both our servos and our stepper motor driver only required 5 volts which was well in the range which the arduino could supply. For our stepper motor since it required 12 volts we have to use an AC/DC voltage converter, to power the motor from a wall socket. In order to prevent any major voltage spikes that occur when the stepper motor runs, which can burnout the stepper motor driver, we added a 50 micro farad capacitor.</p>
<h2 id="electrical-diagram">Electrical Diagram</h2>
<p><img src="/pie-2022-03/4-circle/public/images/4circle_eschematic.png" alt="Electrical Diagram"></p>
<h2 id="the-math-and-code-behind-the-system">The Math and Code Behind the System</h2>
<p>As with many things in order to contructed our system we had to heavily rely on math.</p>
<h3 id="the-stepper-motor">The Stepper Motor</h3>
<p>Stepper motors are called stepper motors because they are designed to move in discrete steps that allows for postion control and speed control. In order to know how many steps we had to move from column to column we had to find the distance the stepper motor moved our dispensing tower each step. In order to do this we gave the stepper motor a random amount of steps to sweep through and then we measured the distance it traveled. Since we knew the distance we just had to divide this distance by the random stepper number to find the inches per step. Once knowing this we measured the distance between the center of each column. Now we could divide the: (inches per column)/(inches per step) to find the steps per column.
We indexed our columns at 1 to represent the column 1 as the most left and column 7 as the most right.</p>
<p><img src="/pie-2022-03/4-circle/public/images/numbered_col.png" alt="Numbered Columns"></p>
<p>To move to any column, in our arduino code we would take in the column number that the algorithm would tell us and subtract that from our current column number to get the difference. If the difference was positive that would mean that given column is farther right on the board and we would have to move CW. If the difference was negative, would know that the column was further to the left so we would have to rotate the stepper motor counter clockwise. By multipying the difference with the steps per column, our stepper motor would be able to move to any column given by the algorithm.</p>
<h3 id="the-servo-motor">The Servo Motor</h3>
<p>Since we chose to used a continous 360 servo motor to dispence the connect four chips it does not follow the commands the same way as a regular 180 servo motor would. Since a 360 servo motor is continouos it does not read for position commands but rather speed and direction commands. A regular servo motor would read the command: ==myservo.write(45)== as a command to move to angle 45 but a continous servo would read this as a command to rotate in the counterclockwise direction at half max spead.
A servo motor understand that for inputs from 0-89 it should move counterclockwise with a speed gradient where 0 would be the fastest it can turn and 89 would be the slowest that it can turn. For inputs from 91-180, the servo motor would understance that it should move clockwise with a speed gradient where 91 represents the slowest it can rotate and 180 represents the fastest it can rotate. The with the input of 90 the continous servo knows to stop rotating. Since we wrote this code in arduino, the way which the servo motor would understand how long to rotate in a certain direction it would take the command: ==delay(1000)==. The number inside the paranthesis would indicate the amount of microseconds the servo motor should do the action for.</p>

</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/pie-2022-03/4-circle/public/js/scripts.min.302a6fc365d5139fb98cf60bdb8f715d96257ea189161d36c190ccfa8182e569.js"></script>
  

  
  
  
    
  


</body>

</html>
